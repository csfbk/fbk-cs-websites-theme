---
layout: page
show_sidebar: false
---

{% assign cols = page.cols | default: "one-quarter" %}
{% assign currentParameter = page.currentParameter | default: "date" %}
{% assign sort_by = page.sort_by | default: "title" %}
{% assign style = page.style | default: "card" %}

{% assign sort_natural = true %}
{% if page.sort_natural == false %}
    {% assign sort_natural = false %}
{% endif %}

{% assign sort_reverse = false %}
{% if page.sort_reverse == true %}
    {% assign sort_reverse = true %}
{% endif %}

<div class="columns is-multiline collaborations">
    <div class="column is-12">
        {{ content }}
    </div>

    <div class="column is-12">
        {% if site.data.projects %}
            {% if currentParameter == "date" %}
                {% assign todayDate = 'now' | date: '%Y-%m-%d' %}
                {% assign currentProjectsWithoutEnd = site.data.projects | where_exp: "project", "project.endDate == nil" %}
                {% assign currentProjectsWithEnd = site.data.projects | where_exp: "project", "project.endDate >= todayDate" %}
                {% assign currentProjects = currentProjectsWithoutEnd | concat: currentProjectsWithEnd %}
                {% assign formerProjects = site.data.projects | where_exp: "project", "project.endDate < todayDate" %}
            {% elsif currentParameter == "isCurrent" %}
                {% assign currentProjects = site.data.projects | where_exp: "project", "project.isCurrent == true" %}
                {% assign formerProjects = site.data.projects | where_exp: "project", "project.isCurrent != true" %}
            {% else %}
                {% assign currentProjects = "" | split: "" %}
                {% assign formerProjects = "" | split: "" %}
            {% endif %}

            {% if currentProjects.size > 0 %}
                <h1>Current Projects</h1>
                {% include list-projects.html source=currentProjects cols=cols sort_by=sort_by sort_natural=sort_natural sort_reverse=sort_reverse style=style %}
            {% endif %}

            {% if formerProjects.size > 0 %}
                <h1>Former Projects</h1>
                {% include list-projects.html source=formerProjects cols=cols sort_by=sort_by sort_natural=sort_natural sort_reverse=sort_reverse style=style %}
            {% endif %}
        {% endif %}
    </div>
</div>